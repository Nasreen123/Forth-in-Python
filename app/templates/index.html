<html>
    <head>
        <title>Pyforth</title>
            <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js'></script>
           <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    </head>
<body>
<div id="body" class="container-fluid">

  <div class="row"><div class="col-sm-10 col-sm-offset-1">
    <h1>Pyforth</h1>
  </div></div>


  <div class="row"><div class="col-sm-10 col-sm-offset-1">
    <div>
      {% for line in log_text %}
        <p> {{ line }} </p>
      {% endfor %}
    </div>
  </div></div>

  <div class="row"><div class="col-sm-10 col-sm-offset-1">

    <form id="modeform">
    <label for="radio1"><input type="radio" id="radio1" name="mode" value="1" checked="checked" > Compile </label>
    <label for="radio2"><input type="radio"id="radio2"  name="mode" value="0" > Interpret </label>
    </form>

      <form action="/" method="POST">
              {{ form.hidden_tag() }}
          <p>
              {{ form.input_stream }}<br>
          </p>
          <input type="submit" value="Submit">
      </form>
  </div></div>






</div> <!-- end container -->


<script type='text/javascript'>
$(document).ready(function() {

    var compile = 1;

    $('input[name=mode]').change(function(){
        compile = $('input[name=mode]:checked', '#modeform').val();
        console.log(compile);
    });

    $("#input_stream").keypress(function (e) {
        if(compile == 0 && e.which == 13 && !e.shiftKey) {
            $(this).closest("form").submit();
            e.preventDefault();
            return false;
        }
    });


});

</script>




</body>
</html>
